

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>RENS &mdash; HIPS 0.0.1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/copybutton.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/toggleprompt.js"></script>
        <script src="../_static/clipboard.min.js"></script>
        <script src="../_static/copybutton.js"></script>
        <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Fractional diving" href="fractional_diving.html" />
    <link rel="prev" title="Bounds Heuristic" href="bounds.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> HIPS
          

          
          </a>

          
            
            
              <div class="version">
                latest
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Contents:</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../installation.html">Installation and Requirements</a></li>
<li class="toctree-l1"><a class="reference internal" href="../getting_started.html">Getting started</a></li>
<li class="toctree-l1 current"><a class="reference internal" href="../heuristics.html">Heuristics</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="simple_rounding.html">Simple Rounding</a></li>
<li class="toctree-l2"><a class="reference internal" href="bounds.html">Bounds Heuristic</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">RENS</a></li>
<li class="toctree-l2"><a class="reference internal" href="fractional_diving.html">Fractional diving</a></li>
<li class="toctree-l2"><a class="reference internal" href="line_search_diving.html">Line Search Diving</a></li>
<li class="toctree-l2"><a class="reference internal" href="2stage_fp.html">Two Stage Feasibility Pump</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../api.html">API Documentation</a></li>
<li class="toctree-l1"><a class="reference internal" href="../dev_api.html">Developer API</a></li>
<li class="toctree-l1"><a class="reference internal" href="../references.html">References</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">HIPS</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="../heuristics.html">Heuristics</a> &raquo;</li>
        
      <li>RENS</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/heur/rens.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="rens">
<h1>RENS<a class="headerlink" href="#rens" title="Permalink to this headline">¶</a></h1>
<a href="https://colab.research.google.com/github/cxlvinchau/hips-examples/blob/main/notebooks/rens-example.ipynb" target="_blank">
    <img src="https://colab.research.google.com/assets/colab-badge.svg" alt="Open In Colab"/>
</a><p>Relaxation enforced neighborhood search, or short RENS, introduced by <span id="id1">[<a class="reference internal" href="../references.html#id5" title="Timo Berthold. Rens – the optimal rounding. Mathematical Programming Computation, 6:, 01 2013. doi:10.1007/s12532-013-0060-9.">Ber13</a>]</span> is a heuristic
for heuristically solving mixed-integer programs with binary and integer variables. The idea is to
solve the relaxation of the problem and use the solution of the relaxed solution to introduce new bounds.</p>
<p>W.l.o.g. suppose the feasible region of a relaxation of a problem is given by <span class="math notranslate nohighlight">\(Ax \leq b\)</span> and let <span class="math notranslate nohighlight">\(x^*\)</span> be
the optimal solution of the problem. RENS adds the constraints <span class="math notranslate nohighlight">\({x \leq \lceil x^* \rceil}\)</span> and <span class="math notranslate nohighlight">\({x \geq \lfloor x^* \rfloor}\)</span>
to the original problem and solves it using a mixed-integer program solver. Note that the computed solution, if it exists,
gives us the best solution that can be obtained from rounding the solution of the relaxation. Observe that the introduced
bounds do not have any effect on binary variables, except when their value in the relaxation is <span class="math notranslate nohighlight">\(0\)</span> or <span class="math notranslate nohighlight">\(1\)</span>.</p>
<p>In HIPS the <a class="reference internal" href="../_autosummary/hips.heuristics.RENS.html#hips.heuristics.RENS" title="hips.heuristics.RENS"><code class="xref py py-class docutils literal notranslate"><span class="pre">RENS</span></code></a> class implements this heuristic. Now we show how to use RENS in HIPS.</p>
<div class="highlight-python notranslate"><div class="highlight"><pre><span></span><span class="kn">from</span> <span class="nn">hips</span> <span class="kn">import</span> <span class="n">load_problem</span>
<span class="kn">from</span> <span class="nn">hips.heuristics</span> <span class="kn">import</span> <span class="n">RENS</span>

<span class="c1"># Load a problem</span>
<span class="n">mip</span> <span class="o">=</span> <span class="n">load_problem</span><span class="p">(</span><span class="s2">&quot;gen-ip054&quot;</span><span class="p">)</span>
<span class="c1"># Instantiate heuristic with MIP</span>
<span class="n">rens</span> <span class="o">=</span> <span class="n">RENS</span><span class="p">(</span><span class="n">mip</span><span class="p">)</span>
<span class="c1"># Start the computation</span>
<span class="n">rens</span><span class="o">.</span><span class="n">compute</span><span class="p">(</span><span class="n">max_iter</span><span class="o">=</span><span class="mi">100</span><span class="p">)</span>
<span class="c1"># Print the objective value</span>
<span class="k">print</span><span class="p">(</span><span class="n">rens</span><span class="o">.</span><span class="n">get_objective_value</span><span class="p">())</span>
<span class="c1"># Print the solution</span>
<span class="k">print</span><span class="p">({</span><span class="n">var</span><span class="p">:</span> <span class="n">rens</span><span class="o">.</span><span class="n">variable_solution</span><span class="p">(</span><span class="n">var</span><span class="p">)</span> <span class="k">for</span> <span class="n">var</span> <span class="ow">in</span> <span class="n">mip</span><span class="o">.</span><span class="n">get_variables</span><span class="p">()})</span>
</pre></div>
</div>
<p>In this example we consider the <a class="reference external" href="https://miplib2017.zib.de/instance_details_gen-ip054.html">gen-ip054 problem</a>
from MIPLIB 2017 <span id="id2">[<a class="reference internal" href="../references.html#id9" title="Ambros Gleixner, Gregor Hendel, Gerald Gamrath, Tobias Achterberg, Michael Bastubbe, Timo Berthold, Philipp M. Christophel, Kati Jarck, Thorsten Koch, Jeff Linderoth, Marco Lübbecke, Hans D. Mittelmann, Derya Ozyurt, Ted K. Ralphs, Domenico Salvagnin, and Yuji Shinano. MIPLIB 2017: Data-Driven Compilation of the 6th Mixed-Integer Programming Library. Mathematical Programming Computation, 2021. URL: https://doi.org/10.1007/s12532-020-00194-3, doi:10.1007/s12532-020-00194-3.">GHG+21</a>]</span> and use <code class="xref py py-func docutils literal notranslate"><span class="pre">hips.load_problem()</span></code> to load it.
The problem has 30 variables, of which all are integer, and 27 constraints. After loading the problem, we can simply
instantiate <a class="reference internal" href="../_autosummary/hips.heuristics.RENS.html#hips.heuristics.RENS" title="hips.heuristics.RENS"><code class="xref py py-class docutils literal notranslate"><span class="pre">RENS</span></code></a> with it and then call the <a class="reference internal" href="../_autosummary/hips.heuristics.RENS.html#hips.heuristics.RENS.compute" title="hips.heuristics.RENS.compute"><code class="xref py py-func docutils literal notranslate"><span class="pre">compute</span></code></a>
method. In RENS, the <code class="docutils literal notranslate"><span class="pre">max_iter</span></code> argument correspond to the maximum number of nodes we want to visit in the branch
and bound tree. The smaller the number, the earlier the computation terminates. However, when the maximum number of
nodes is set too small, RENS might not be able to find a feasible solution at all. Further, a larger maximum number
of nodes potentially results in a solution with a better objective.</p>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="fractional_diving.html" class="btn btn-neutral float-right" title="Fractional diving" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="bounds.html" class="btn btn-neutral float-left" title="Bounds Heuristic" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2021, Severin Bals and Calvin Chau.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>